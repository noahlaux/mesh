<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/core-header-panel/core-header-panel.html">
<link rel="import" href="/bower_components/core-toolbar/core-toolbar.html">

<polymer-element name="mesh-device" attributes="data">
    <template>
        <style>
            .device {
                /*background-color: #999;*/
                display: inline-block;
                background: white;
                box-sizing: border-box;
                width: 100%;
                vertical-align: top;
                margin-bottom: 20px;
                /*height: 100px;*/
                /*padding: 16px;*/
                border-radius: 2px;
            }

            core-header-panel {
                height: 170px;
                font-size: 12px;
                display: block;
            }
            core-toolbar {
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }
        </style>
        <paper-shadow class="device">
            <core-header-panel mode="waterfall">
                <core-toolbar>
                    {{ data.name }}
                </core-toolbar>
                <div class="content" fit>
                    <table>
                        <tr>
                            <td>Address</td>
                            <td>{{ data.address }}</td>
                        </tr>
                        <template repeat="{{ key in data.parameters | getKeys }}">
                            <tr>
                                <td>{{ key }}</td>
                                <td>{{ data.parameters[key] }}</td>
                            </tr>
                        </template>
                    </table>
                </div>
            </core-header-panel>
        </paper-shadow>
    </template>
    <script>
        Polymer('mesh-device', {
            getKeys: function (object) {
                return Object.keys(object || {});
            }
        });
    </script>
</polymer-element>

